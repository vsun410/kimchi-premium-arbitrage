# Paper Trading 테스트 계획
*작성일: 2025-08-25*
*전략: 평균회귀 헤지 + 메이커 주문*

## 🎯 핵심 전략 요약

### 검증된 파라미터
- **자본금**: 4,000만원 (실제 사용: 1,200만원 = 30%)
- **목표 수익**: 8만원/거래 (0.2%)
- **진입 조건**: 김프 < 48시간 MA - 0.02%
- **주문 방식**: 완전 지정가 (메이커 수수료 0.02%)

## 📋 Phase 1: Paper Trading (1주)

### Week 1: 시스템 검증
```yaml
기간: 2025-08-26 ~ 2025-09-01
목표: 시스템 안정성 및 실행 가능성 검증

테스트 항목:
  - 실시간 김프 계산 정확도
  - 지정가 주문 체결률
  - 진입 신호 빈도
  - 시스템 안정성 (24시간)

성공 기준:
  - 일 1회 이상 진입 신호
  - 체결률 > 50%
  - 시스템 다운타임 < 1%
```

### 구현 체크리스트
- [ ] 실시간 WebSocket 연결 (업비트, 바이낸스)
- [ ] 김프 계산 및 48시간 MA 추적
- [ ] Paper Trading 엔진 구현
- [ ] 지정가 주문 시뮬레이션
- [ ] 실시간 대시보드
- [ ] 로깅 시스템

## 📊 Phase 2: 소액 실거래 (2주)

### Week 2-3: 실제 체결 테스트
```yaml
기간: 2025-09-02 ~ 2025-09-15
자본: 200만원 (목표 수익: 4,000원/거래)

일일 체크:
  09:00 - 시스템 상태 확인
  12:00 - 오전 거래 리뷰
  18:00 - 오후 거래 리뷰
  21:00 - 일일 리포트

주요 지표:
  - 실제 체결률
  - 슬리피지
  - 실제 수수료
  - 수익/손실
```

### 리스크 제한
```python
daily_limits = {
    'max_trades': 3,          # 일 최대 3회
    'max_loss': -10_000,      # 일 최대 손실 1만원
    'stop_on_consecutive': 2   # 연속 2회 손실시 중단
}
```

## 🔄 Phase 3: 전략 최적화 (1주)

### Week 4: 파라미터 조정
```yaml
분석 항목:
  - 최적 진입 임계값 (현재 -0.02%)
  - 최적 목표 수익 (현재 8만원)
  - 최적 MA 기간 (현재 48시간)
  - 최적 주문 스프레드 (현재 0.01%)

A/B 테스트:
  - 보수적: 진입 -0.03%, 목표 10만원
  - 공격적: 진입 -0.01%, 목표 6만원
```

## 📈 Phase 4: 확대 운영 (2주)

### Week 5-6: 자본 증액
```yaml
자본: 1,000만원 (목표 수익: 2만원/거래)

추가 기능:
  - 멀티코인 (ETH, XRP)
  - 헤지 포지션 자동화
  - ML 신호 통합
  - 자동 리밸런싱

목표:
  - 월 수익률 1.5% 달성
  - 일 평균 2회 거래
  - 승률 > 65%
```

## 🎬 실행 스크립트

### 1. Paper Trading 시작
```python
# scripts/start_paper_trading.py
from src.strategies.mean_reversion_hedge import MeanReversionHedgeStrategy
from src.strategies.maker_order_strategy import MakerOrderStrategy

config = {
    'mode': 'paper',
    'capital': 40_000_000,
    'target_profit': 80_000,
    'entry_threshold': -0.02,
    'use_maker_only': True
}

# 실행
python scripts/start_paper_trading.py
```

### 2. 실시간 모니터링
```python
# scripts/monitor_dashboard.py
- 실시간 김프
- 48시간 MA
- 진입 신호
- 포지션 상태
- 손익 추적

# 실행
python scripts/monitor_dashboard.py
```

### 3. 일일 리포트
```python
# scripts/daily_report.py
- 거래 내역
- 수익/손실
- 체결률
- 수수료 분석
- 개선 제안

# 실행
python scripts/daily_report.py
```

## 🔍 주요 모니터링 지표

### 실시간 추적
```python
realtime_metrics = {
    'kimchi_premium': '현재 김프',
    'ma_48h': '48시간 이동평균',
    'deviation': '평균 대비 편차',
    'spread': '호가 스프레드',
    'volume': '거래량',
    'rsi': 'RSI (옵션)'
}
```

### 일일 통계
```python
daily_stats = {
    'total_trades': '총 거래수',
    'successful_trades': '체결 거래수',
    'win_rate': '승률',
    'total_pnl': '총 손익',
    'avg_slippage': '평균 슬리피지',
    'total_fees': '총 수수료'
}
```

## ⚠️ 리스크 관리

### 자동 중단 조건
1. 일일 손실 > 1만원 (200만원 기준)
2. 연속 2회 손실
3. 시스템 오류 3회
4. 김프 이상 변동 (±3%)

### 비상 프로토콜
```python
if emergency_condition:
    1. 모든 포지션 즉시 청산
    2. 신규 진입 중단
    3. 알림 발송 (Telegram/Slack)
    4. 로그 백업
    5. 수동 확인 대기
```

## 📅 일정 요약

| 주차 | 기간 | 단계 | 자본 | 목표 |
|------|------|------|------|------|
| 1주 | 08/26-09/01 | Paper Trading | 가상 4000만 | 시스템 검증 |
| 2-3주 | 09/02-09/15 | 소액 실거래 | 200만 | 체결 테스트 |
| 4주 | 09/16-09/22 | 최적화 | 200만 | 파라미터 조정 |
| 5-6주 | 09/23-10/06 | 확대 운영 | 1000만 | 월 1.5% |

## ✅ Go/No-Go 의사결정

### Paper Trading 후 진행 조건
- [ ] 일 1회 이상 진입 신호 발생
- [ ] 지정가 체결률 > 50%
- [ ] 시스템 안정성 > 99%
- [ ] 예상 월 수익률 > 1%

### 실거래 확대 조건
- [ ] 2주간 누적 수익 > 0
- [ ] 승률 > 60%
- [ ] 최대 낙폭 < -5%
- [ ] 일평균 거래 > 1회

## 🚀 즉시 실행 사항

1. **오늘 (08/25)**
   - Paper Trading 엔진 구현
   - 실시간 김프 모니터링 설정

2. **내일 (08/26)**
   - Paper Trading 시작
   - 대시보드 구동
   - 첫 진입 신호 확인

3. **이번 주 내**
   - 최소 5회 Paper 거래
   - 체결률 분석
   - 시스템 안정성 확인

---

*이 계획은 실제 검증된 전략(평균회귀 + 메이커 주문)을 기반으로 합니다.*
*목표: 월 2% 수익률 (80만원)*